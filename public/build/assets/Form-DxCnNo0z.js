import{r as g,j as e,m as j,L as f}from"./app-BsGrDTxw.js";import{I as x,T as b}from"./TextInput-Bp4YhxDx.js";import{I as p}from"./InputLabel-iHHG_jCb.js";import{P as N}from"./PrimaryButton-5pBeGfKr.js";import{A as v}from"./AuthenticatedLayout-FQUBQVM1.js";import{J as w}from"./textarea-4qaSclJJ.js";import"./ApplicationLogo-B5E5yrHX.js";import"./transition-CFTqxYHk.js";import"./description-DWaOyf4s.js";const y=({accept:a="*/*",maxFiles:c=5,onFilesChange:t,className:i=""})=>{const[o,d]=g.useState([]),h=s=>{if(!s.target.files)return;const l=Array.from(s.target.files).map(r=>({file:r,preview:URL.createObjectURL(r),name:r.name})),n=[...o,...l].slice(0,c);d(n),t&&t(n.map(({file:r,name:m})=>({file:r,name:m})))},u=s=>{d(l=>{URL.revokeObjectURL(l[s].preview);const n=l.filter((r,m)=>m!==s);return t&&t(n.map(({file:r,name:m})=>({file:r,name:m}))),n})};return e.jsxs("div",{className:`flex flex-col items-center p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 ${i}`,children:[e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center justify-center w-full h-32 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[e.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V12M7 12V8M7 12H11M5 20H19C20.105 20 21 19.105 21 18V6C21 4.895 20.105 4 19 4H5C3.895 4 3 4.895 3 6V18C3 19.105 3.895 20 5 20Z"})}),e.jsx("span",{className:"text-gray-500 text-sm mt-2",children:"Drag & drop files here, or click to select"})]}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,accept:a,className:"hidden",onChange:h}),e.jsx("div",{className:"mt-4 w-full",children:o.length>0&&e.jsx("ul",{className:"space-y-2",children:o.map((s,l)=>e.jsxs("li",{className:"flex items-center justify-between p-2 bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:s.preview,alt:s.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(s.file.size/1024).toFixed(2)," ","KB"]})]})]}),e.jsx("button",{onClick:()=>u(l),className:"text-red-500 hover:text-red-700 focus:outline-none",children:"Remove"})]},l))})})]})},M=({data:a})=>{const{data:c,setData:t,errors:i,post:o,patch:d,put:h}=j({title:a.data.title,description:a.data.description,thumbnail:""}),u=s=>{s.preventDefault(),o(a.action_form)};return e.jsxs(v,{header:e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:["Projek / ",a.title]}),children:[e.jsx(f,{title:a.title}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:u,method:"post",encType:"multipart/form-data",className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx(p,{htmlFor:"thumbnail",value:"Thumbnail"}),e.jsx(y,{accept:"image/*",maxFiles:1,className:"mt-1",onFilesChange:s=>t("thumbnail",s[0].file)}),e.jsx(x,{message:i.thumbnail,className:"mt-2"})]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(p,{htmlFor:"title",value:"Judul"}),e.jsx(b,{id:"title",type:"text",name:"title",placeholder:"Judul Projek",value:c.title,className:"mt-1 block w-full",autoComplete:"current-title",onChange:s=>t("title",s.target.value)}),e.jsx(x,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{className:"",children:[e.jsx(p,{htmlFor:"description",value:"Keterangan"}),e.jsx(w,{rows:4,value:c.description,onChange:s=>t("description",s.target.value),name:"description",placeholder:"Judul Projek",id:"description",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 w-full mt-1"}),e.jsx(x,{message:i.description,className:"mt-2"})]})]})]}),e.jsx("div",{className:"flex justify-end p-4",children:e.jsx(N,{type:"submit",children:"Simpan"})})]})})})})]})};export{M as default};
